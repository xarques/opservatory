<div class="container">
  <div class="exercise">
    <div class="description">
      <div class="text-center">
        <h2>Description</h2>
        <p><%= @exercise.challenge.description %></p>
      </div>
      <div>
        <h3>Instructions</h3>
        <%= @exercise.challenge.instructions.html_safe if @exercise.challenge.instructions %>
      </div>
    </div>

    <div class="hints">
      <h5>Hints</h5>
      <div class="hints-details" id="hints">
      <% if @next_hint.count >= 1 %>
      <%= link_to "Hint" , exercise_exercise_hints_path(@exercise.id), method: "post", :class =>'btn btn-primary', :id => "button-hint", remote: true %>
      <% end %>
       <ul id="list_hints"></ul>
         <% @given_hints.each do |hint|%>
         <li><%= hint.description %></li>
         <% end %></%>
      </div>
    </div>

    <div>
    </div>

    <div class="editor text-center">
      <h2><%= @exercise.challenge.name %></h2>
      <div id="javascript-editor"></div>
    </div>


    <div class="editor-buttons text-center">
      <%= link_to "Retry", retry_exercise_path(@exercise), method: "patch", :class =>"btn btn-primary", :id =>"retry", :type =>"button" %>
      <button type="button" id="validate" class="btn btn-primary">
        Validate
      </button>
      <button type="button" id="skip" class="btn btn-primary">
        Skip >>
      </button>
      <%#= link_to 'Back', exercises_path %>
    </div>

    <div class="result" >
      <h5>Results</h5>
      <div class="result-details" id="result">

      </div>

    </div>
    <%# content_for :after_js do %>
      <!-- method aceEditor is defined in app/javascript/packs/editor.js -->
      <%= javascript_pack_tag 'editor' %>
    <%# end %>

    <script>
      // methods aceEditor and validateExerciseCallback are defined in app/javascript/packs/editor.js
      const javascriptEditor = aceEditor("javascript-editor", "<%=j raw(@exercise.code) %>");
      validateExerciseCallback('<%=j raw(@exercise.challenge.schema) %>', javascriptEditor, "validate", "result");
    </script>
  </div>
</div>
